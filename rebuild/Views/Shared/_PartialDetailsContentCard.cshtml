@* Aceita qualquer entidade e renderiza campos com ícones *@
@model object
@using Modelo.Cadastros
@using Modelo.Docente
@using Modelo.Discente

@functions {
    string D(DateTime? dt) => dt.HasValue ? dt.Value.ToString("dd/MM/yyyy") : "";
}

<div class="row g-3">

    @* ------------------- Departamento ------------------- *@
    @if (Model is Departamento dep)
    {
        <div class="col-12 col-md-4">
            <label class="form-label">DepartamentoID</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-hashtag"></i></span>
                <input class="form-control" value="@dep.DepartamentoID" readonly />
            </div>
        </div>

        <div class="col-12 col-md-8">
            <label class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-building"></i></span>
                <input class="form-control" value="@dep.Nome" readonly />
            </div>
        </div>

        <div class="col-12">
            <label class="form-label">Instituição</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-university"></i></span>
                <input class="form-control" value="@(dep.Instituicao?.Nome ?? "—")" readonly />
            </div>
        </div>
    }

    @* ------------------- Instituição ------------------- *@
    else if (Model is Instituicao inst)
    {
        <div class="col-12 col-md-4">
            <label class="form-label">InstituicaoID</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-hashtag"></i></span>
                <input class="form-control" value="@inst.InstituicaoID" readonly />
            </div>
        </div>

        <div class="col-12 col-md-8">
            <label class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-university"></i></span>
                <input class="form-control" value="@inst.Nome" readonly />
            </div>
        </div>

        <div class="col-12">
            <label class="form-label">Endereço</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-map-marker-alt"></i></span>
                <input class="form-control" value="@inst.Endereco" readonly />
            </div>
        </div>
    }

    @* ------------------- Curso ------------------- *@
    else if (Model is Curso curso)
    {
        <div class="col-12 col-md-4">
            <label class="form-label">CursoID</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-hashtag"></i></span>
                <input class="form-control" value="@curso.CursoID" readonly />
            </div>
        </div>

        <div class="col-12 col-md-8">
            <label class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-book-open"></i></span>
                <input class="form-control" value="@curso.Nome" readonly />
            </div>
        </div>

        <div class="col-12">
            <label class="form-label">Departamento</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-sitemap"></i></span>
                <input class="form-control" value="@(curso.Departamento?.Nome ?? "—")" readonly />
            </div>
        </div>
    }

    @* ------------------- Professor ------------------- *@
    else if (Model is Professor prof)
    {
        <div class="col-12 col-md-4">
            <label class="form-label">ProfessorID</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-id-badge"></i></span>
                <input class="form-control" value="@prof.ProfessorID" readonly />
            </div>
        </div>

        <div class="col-12 col-md-8">
            <label class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user-tie"></i></span>
                <input class="form-control" value="@prof.Nome" readonly />
            </div>
        </div>
    }

    @* ------------------- Acadêmico ------------------- *@
    else if (Model is Academico a)
    {
        <div class="col-12 col-md-3">
            <label class="form-label">ID</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-id-card"></i></span>
                <input class="form-control" value="@a.AcademicoID" readonly />
            </div>
        </div>

        <div class="col-12 col-md-3">
            <label class="form-label">RA</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-barcode"></i></span>
                <input class="form-control" value="@a.RegistroAcademico" readonly />
            </div>
        </div>

        <div class="col-12 col-md-6">
            <label class="form-label">Nome</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-user-graduate"></i></span>
                <input class="form-control" value="@a.Nome" readonly />
            </div>
        </div>

        <div class="col-12 col-md-4">
            <label class="form-label">Nascimento</label>
            <div class="input-group">
                <span class="input-group-text"><i class="fas fa-birthday-cake"></i></span>
                <input class="form-control" value="@D(a.Nascimento)" readonly />
            </div>
        </div>
    }

    @* ------------------- Fallback ------------------- *@
    else
    {
        <div class="col-12">
            <div class="alert alert-warning mb-0">
                Não há um mapeamento de detalhes para o tipo <strong>@Model?.GetType().Name</strong>.
            </div>
        </div>
    }

</div>
